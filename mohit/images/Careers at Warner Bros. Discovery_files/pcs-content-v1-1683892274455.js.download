!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("vue"),require("../../../../common/v1/src")):"function"==typeof def&&def.amd?def("pcs-content-v1",["vue","../../../../common/v1/src"],t):((e="undefined"!=typeof globalThis?globalThis:e||self).phw=e.phw||{},e.phw.PcsContentV1=t(e.Vue,e.PcsCommon))}(this,function(e,t){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=i(e),n=i(t),o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};var s=function(){return(s=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};var r="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};r.setTimeout,r.clearTimeout;var c=r.performance||{};c.now||c.mozNow||c.msNow||c.oNow||c.webkitNow;var l="undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys;function p(i,o,n){(n?Reflect.getOwnMetadataKeys(o,n):Reflect.getOwnMetadataKeys(o)).forEach(function(e){var t=n?Reflect.getOwnMetadata(e,o,n):Reflect.getOwnMetadata(e,o);n?Reflect.defineMetadata(e,t,i,n):Reflect.defineMetadata(e,t,i)})}var d={__proto__:[]}instanceof Array;function u(e){"undefined"!=typeof console&&console.warn("[vue-class-component] "+e)}var h=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function f(e,o){void 0===o&&(o={}),o.name=o.name||e._componentTag||e.name;var n=e.prototype;Object.getOwnPropertyNames(n).forEach(function(t){if("constructor"!==t)if(-1<h.indexOf(t))o[t]=n[t];else{var i=Object.getOwnPropertyDescriptor(n,t);void 0!==i.value?"function"==typeof i.value?(o.methods||(o.methods={}))[t]=i.value:(o.mixins||(o.mixins=[])).push({data:function(){var e;return(e={})[t]=i.value,e}}):(i.get||i.set)&&((o.computed||(o.computed={}))[t]={get:i.get,set:i.set})}}),(o.mixins||(o.mixins=[])).push({data:function(){return function(o,e){var t=e.prototype._init;e.prototype._init=function(){var e=this,t=Object.getOwnPropertyNames(o);if(o.$options.props)for(var i in o.$options.props)o.hasOwnProperty(i)||t.push(i);t.forEach(function(t){"_"!==t.charAt(0)&&Object.defineProperty(e,t,{get:function(){return o[t]},set:function(e){o[t]=e},configurable:!0})})};var i=new e;e.prototype._init=t;var n={};return Object.keys(i).forEach(function(e){void 0!==i[e]&&(n[e]=i[e])}),!(e.prototype instanceof a.default)&&0<Object.keys(n).length&&u("Component class must inherit Vue or its descendant class when class property is used."),n}(this,e)}});var t=e.__decorators__;t&&(t.forEach(function(e){return e(o)}),delete e.__decorators__);var i=Object.getPrototypeOf(e.prototype),s=i instanceof a.default?i.constructor:a.default,r=s.extend(o);return function(n,s,r){Object.getOwnPropertyNames(s).forEach(function(e){if(!g[e]){var t=Object.getOwnPropertyDescriptor(n,e);if(!t||t.configurable){var i=Object.getOwnPropertyDescriptor(s,e);if(!d){if("cid"===e)return;var o=Object.getOwnPropertyDescriptor(r,e);if(!function(e){var t=typeof e;return null==e||"object"!=t&&"function"!=t}(i.value)&&o&&o.value===i.value)return}0<=y.indexOf(e)&&u("Static property name '"+e+"' declared on class '"+s.name+"' conflicts with reserved property name of Vue internal. It may cause unexpected behavior of the component. Consider renaming the property."),Object.defineProperty(n,e,i)}}})}(r,e,s),l&&function(t,i){p(t,i),Object.getOwnPropertyNames(i.prototype).forEach(function(e){p(t.prototype,i.prototype,e)}),Object.getOwnPropertyNames(i).forEach(function(e){p(t,i,e)})}(r,e),r}var y=["cid","super","options","superOptions","extendOptions","sealedOptions","component","directive","filter"],g={prototype:!0,arguments:!0,callee:!0,caller:!0};function v(t){return"function"==typeof t?f(t):function(e){return f(e,t)}}v.registerHooks=function(e){h.push.apply(h,e)};var m,b,O,w=function(){this.displayType="",this.mode="popup",this.playerOptions={},this.sliderOptions={},this.mediaType=""},_="pcs-content-v1",D="slider";function M(){this.constructor=m}function P(){var e=null!==O&&O.apply(this,arguments)||this;return e.readLess=!1,e.readMore=!0,e.readMoreData=!1,e.enableAutoSlideOnClosePopup=!1,e.toggleLongDes=!1,e.isEvtListenerAttached=!0,e.elementTag=_,e.bindableModel=new w,e.enablePopup=!1,e.currentData={},e.playerOptions={},e}return{component:(O=n.default.BaseComponent,o(m=P,b=O),void(m.prototype=null===b?Object.create(b):(M.prototype=b.prototype,new M)),P.prototype.created=function(){},P.prototype.contentModelLoaded=function(){},P.prototype.widgetReady=function(){this.element=this.$el,this.loadPolyFillClosest();var e=this.content[this.contentId];e&&e.list&&e.list.length||this.bindModel.ignoreList?this.bindModel.displayType===D&&e.list&&1<e.list.length&&this.initSliderMode(this.bindModel.sliderOptions):this.handleError()},P.prototype.triggerPopup=function(e,t,i,o){this.currentData=e,o&&(this.bindModel.mediaType=o,this.settings.bindables=this.settings.bindables||{},this.settings.bindables.attrs=this.settings.bindables.attrs||{},this.settings.bindables.attrs.mediaType="video"),this.bindModel.sliderOptions&&this.bindModel.sliderOptions.autoplay&&(this.enableAutoSlideOnClosePopup=!0,this.bindModel.sliderOptions.autoplay=!1,this.bindModel.displayType===D&&this.initSliderMode(this.bindModel.sliderOptions));var n=this.content[this.contentId]&&this.content[this.contentId].list||[];"popup"===this.bindModel.mode&&(this.enablePopup=!0,"video"===this.bindModel.mediaType&&this.initiateVideoWithOptions(e,i,n),"gallery"===this.bindModel.mediaMode&&(this.currentData=n,this.slickGotoSlide(t)),this.openDialog()),this.handlinginlineVideo(t,i)},P.prototype.initiateVideoWithOptions=function(e,t,i){var o=this,n=e.video||e;n&&n.videotype&&(n.provider=n.provider||n.videotype),this.playerOptions=s({},this.bindModel.playerOptions,t&&t.playerOptions||t||{}),this.$nextTick(function(){o.initVideoPlayer(o.playerOptions,n,1<i.length)})},P.prototype.handlinginlineVideo=function(e,t){if(this.settings.list[e]=this.settings.list[e]||this.settings.list[0]||{},this.settings.list[e].video1=this.settings.list[e].video1||this.settings.list[e].video||{},"video-inline"===(this.settings.list[e].video1&&this.settings.list[e].video1.custom&&this.settings.list[e].video1.custom.mediaType)){this.settings.list[e]["employee-image1"]=this.settings.list[e]["employee-image1"]||this.settings.list[e]["employee-image"]||{},this.settings.list[e]["primary-image1"]=this.settings.list[e]["primary-image1"]||this.settings.list[e]["primary-image"]||{},this.settings.list[e]["video-popup1"]=this.settings.list[e]["video-popup1"]||this.settings.list[e]["video-popup"]||{},this.settings.list[e].video1.hidden=!1,this.settings.list[e]["employee-image1"].hidden=!0,this.settings.list[e]["primary-image1"].hidden=!0,this.settings.list[e]["video-popup1"].hidden=!0;var i=this.element.querySelectorAll('[data-ph-component-name="card-block"]')[e];if(i)for(var o=i.querySelectorAll("[data-ph-widget-id]"),n=0;n<o.length;n++)o[n].__vue__&&o[n].__vue__.$forceUpdate()}},P.prototype.onTabClick=function(e){var t=document.querySelector(".slick-tabs-area");if(t){var i='[id="tab-no-'+e+'"]',o=t.querySelector(i);o&&o.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}this.slickGotoSlide(e)},P.prototype.openDialog=function(){var o=this;document.addEventListener("keyup",this.handleEscapeClick),this.$nextTick(function(){var e=o.element.querySelector(".modal"),t=o.element.querySelector(".close"),i=document.activeElement||document.querySelector("body");t&&n.default.DialogManager.openDialog(e,t,i)})},P.prototype.hideWidget=function(){this.player&&this.player.pause&&this.player.pause(),this.closeDialog(),this.trackWidgetClick("popup_close_click",{}),this.enablePopup=!1},P.prototype.handleEscapeClick=function(e){27===e.keyCode&&this.hideWidget()},P.prototype.closeDialog=function(){n.default.DialogManager.close(),this.enableAutoSlideOnClosePopup&&(this.bindModel.sliderOptions.autoplay=!0),this.removeEvtListener()},P.prototype.fetch=function(){},P.prototype.removeEvtListener=function(){document.removeEventListener("keyup",this.handleEscapeClick)},P.prototype.destroyed=function(){this.removeEvtListener()},P.prototype.handleTranscript=function(){var e=(this.currentData.video||this.currentData||{}).transcript;window.open(e),this.player&&this.player.pause&&this.player.pause(),this.trackWidgetClick("transcript_click",{})},P.prototype.handleAudiodescription=function(){var e=JSON.parse(JSON.stringify(this.currentData.video||this.currentData));e.enabledDescription=!e.enabledDescription,e.enabledDescription?(e.src=e.audiodescription,e.videoUrl=e.audiodescription,this.trackWidgetClick("enable_description_video_click",{})):(e=this.currentData.video||this.currentData,this.trackWidgetClick("disable_description_video_click",{})),this.initVideoPlayer(this.playerOptions,e,!0)},P.prototype.showcontent=function(e,t,i,o){if(e.toggleLongDes=!e.toggleLongDes,e.toggleLongDes&&!t&&setTimeout(function(){var e=document.querySelector(".long-description-component.show");e&&e.focus()},1e3),t){this.handleDescriptionFocus(i,e),this.handleHeightOfCards(i,e,o);for(var n=this.$el.querySelectorAll("[data-ph-component-name]"),s=0;s<n.length;s++)n[s].__vue__&&n[s].__vue__.$forceUpdate()}this.$forceUpdate()},P.prototype.handleDescriptionFocus=function(e,t){var i;if(e&&e.target){var o=(i=e.target.closest(".ph-card")).querySelector(".description-component");t.toggleLongDes&&i?(o.classList.remove("hide"),o.classList.add("show"),setTimeout(function(){o&&o.focus()},50)):t.toggleLongDes||(o.classList.remove("show"),o.classList.add("hide"))}},P.prototype.handleHeightOfCards=function(e,t,i){if(i&&e&&e.target){var o=e.target.closest(".ph-card-container");if(o){var n=o.querySelectorAll("[data-ph-card-name='pcs-icon-image-cc-view2']"),s=0!=(o.querySelectorAll(".description-component.show")||[]).length;n&&n.forEach(function(e){t.toggleLongDes?e.classList.add("height-auto"):s||e.classList.remove("height-auto")})}}},P.prototype.loadPolyFillClosest=function(){window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,i=(this.document||this.ownerDocument).querySelectorAll(e),o=this;do{for(t=i.length;0<=--t&&i.item(t)!==o;);}while(t<0&&(o=o.parentElement));return o})},P=function(e,t,i,o){var n,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(r=(s<3?n(r):3<s?n(t,i,r):n(t,i))||r);return 3<s&&r&&Object.defineProperty(t,i,r),r}([v({name:_})],P))}});
//# sourceMappingURL=pcs-content-v1.js.map
