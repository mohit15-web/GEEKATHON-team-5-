!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof def&&def.amd?def("ph-platform",["exports"],t):t((e.phw=e.phw||{},e.phw.platform={}))}(this,function(e){"use strict";var A=function(){return(A=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var i in t=arguments[a])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},n=(t.prototype.fecthPhApp=function(){return this.phApp},t.prototype.getDDOFromCache=function(e){var t=this.phApp.ddo,a=this.phApp.pageGroup||{};return t[e]||a[e]},t.prototype.getCsrfToken=function(){var e=document.getElementById("csrfToken");return this.phApp.csrfToken=e&&e.innerText||"",this.phApp.csrfToken||(this.phApp.csrfToken=this.phApp.sessionParams&&this.phApp.sessionParams.csrfToken),this.phApp.csrfToken},t.prototype.getImageUrl=function(){var n=this,i=["cdnUrl","refNum","locale","deviceType"],s="";return i.forEach(function(e,t){var a=n.phApp[e];a&&0<a.trim().length&&(s+=a,"/"!==a[a.length-1]&&i.length-1<t&&(s+="/"))}),s},t.prototype.convertWidgetTagToComponentName=function(e){return e&&e.trim().length?e.substring(e.lastIndexOf("-")+1)+"/"+e.substring(0,e.lastIndexOf("-")):e},t.prototype.getSiteSettings=function(e){var t=this.getDDOFromCache("siteConfig");if(t&&t.data)return e?t.data.siteSettings[e]||t.data[e]:t.data.siteSettings},t.prototype.isCrawlerUserAgent=function(){var e=window.navigator.userAgent,t=!1,a=this.getSiteSettings("crawlerUserAgents");return a&&(t=new RegExp(a,"i").test(e.toLowerCase())),t},t.prototype.fetchReqObj=function(){return{deviceType:this.phApp.deviceType||"desktop",refNum:this.phApp.refNum,lang:this.phApp.locale||"en_us",siteType:this.phApp.siteType,pageId:this.phApp.pageId,pageName:this.phApp.pageName,country:this.phApp.country}},t.prototype.getComponentName=function(e){var t=e.split("-"),a="";return t.forEach(function(e){a+=e[0].toUpperCase()+e.slice(1)}),a},t);function t(){this.phApp=window.phApp||{},this.phApp.ddo=this.phApp.ddo||{}}var i=[{key:"domainName",regex:/{{domainName}}/g,value:""},{key:"linkDomain",regex:/{{linkDomain}}/g,value:""},{key:"imgSrc",regex:/{{imgSrc}}/g,value:""}],y={videowrapper:"video",imagewrapper:"image",linkwrapper:"link"},a=(s.prototype.constructCntReplaceMap=function(){var e=(this.phApp.rootDomain||this.phApp.baseDomain||"").replace("https://","");this.contentReplaceables.domainName=e,this.contentReplaceables.linkDomain=this.phApp.baseUrl,this.contentReplaceables.imgSrc=this.platformUtils.getImageUrl()},s.prototype.applyContextToContentModel=function(t){var a=this;for(var e in t=JSON.stringify(t)||"",this.contentReplaceables){t=(t=t.replace(/&lt;/g,"<")).replace(/&gt;/g,">"),i.forEach(function(e){t=t.replace(e.regex,a.contentReplaceables[e.key])});try{return JSON.parse(t)}catch(e){}}},s.prototype.flattenContentModel=function(e,m,u,t){var g=this;if(!m||!e)return m;var h=e.content||e,f=t||{};u=u||{},Object.keys(h).forEach(function(i){if("_cid"!=i)if("_refType"!=i){var e=h[i]?h[i].type:void 0,s=h[i]?h[i].refType:void 0;if(e){var t=h[i]?h[i].value:void 0;t||"string"!=typeof h[i]||(t=h[i]);var a=typeof t;t||(a="string");var n=u[t];if(n&&(a=typeof n),"dynamictext"==e)m[i]=t;else switch(a){case"object":if(Array.isArray(t)){var o=t;m[i]=[];var r=[];o.forEach(function(e,t){var a={},n=u[e];n&&((m[i][t]=a)._cid=e,a.position=t+1,f&&f.quoteImage&&n&&(n.quoteImage=f.quoteImage),"object"==typeof e&&(n=e,a={}),g.flattenContentModel(n,a,u,f),r.push(a))}),r.forEach(function(e,t){m[i][t]=e})}else{var d=t,c={};m[i]=c;var p=u[d]||{};if(p._cid=d,s&&(p._refType=s),"object"==typeof d&&(p=d||{},c={}),s&&y[s]){var l=u[t]||t||{};l&&(Object.keys(l).forEach(function(e){var t=l[e];if("object"==typeof t&&t.refType==y[s]){var a=u[t.value]||t.value||{};for(var n in a)a.hasOwnProperty(n)&&!l[n]&&(l[n]=a[n]);delete l[e],p=l}}),"videowrapper"===s&&f.playImg&&(l.playImg=f.playImg))}g.flattenContentModel(p,c,u,f),c&&(m[i]=c)}break;default:t&&(m[i]=t)}}}else m[i]=h[i];else m[i]=h[i]})},s.prototype.fillContentBasedOnMapper=function(e,t,a,n,i,s){var o;if(t&&a)if(t.split(".").forEach(function(e){o=o?o[e]:n[e]}),-1!=a.indexOf(".")){var r=a.split(".");if(r&&r.length){var d=r.pop();r.reduce(function(e,t){return e[t]=e[t]||{}},i)[d]=o}}else i[a]=o},s.prototype.mapViewContentModels=function(e){if(e&&e.content){var t=e.content;for(var a in e.origContentItems={},t)if(t.hasOwnProperty(a)){var n=t[a]||{};if(e.origContentItems[a]=JSON.parse(JSON.stringify(n)),n&&n.mappingModel&&"string"==typeof n.mappingModel){var i=n.mappingModel,s=e.modelMappings[i]&&e.modelMappings[i].mapping,o={};if(s){for(var r in s)s.hasOwnProperty(r)&&this.fillContentBasedOnMapper(a,s[r],r,n,o,e);o.mappingModel=s}t[a]=o}}}},s.prototype.compileContentModel=function(a,i){var s=this;return(i=i||{})&&(this.mapViewContentModels(i.data?i.data:i),Object.keys(a||{}).forEach(function(e,t){(a[e]||[]).forEach(function(e){var t={},a=e["data-ph-content-id"],n=i.data&&(i.data.content||i.data);n&&n[a]&&(s.flattenContentModel(n[a],t,n,n[a]),n[a].rawContent=n[a].content,t=s.applyContextToContentModel(t),n[a].content||(n[a].content=t))})})),i},s);function s(){this.contentReplaceables={},this.platformUtils=new n,this.phApp=this.platformUtils.fecthPhApp(),this.constructCntReplaceMap()}var o=(r.prototype.getDDOFromCache=function(e){return this.phApp.ddo[e]},r.prototype.fetchCachedDdo=function(e){return this.getDDOFromCache(e)},r.prototype.fetchEnvironment=function(){var e={};return this.phApp&&(e.componentBase=this.phApp.widgetScriptUrl||this.phApp.cdnUrl+"/common/js/caas-platform/widgets/"),e},r.prototype.formatParams=function(t){return"?"+Object.keys(t).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&")},r);function r(){var a=this;this.platformUtils=new n,this.makeRequest=function(t,n,e){var i=a.phApp.widgetApiEndpoint,s=new XMLHttpRequest,o=a,r=t.ignoreCache;return new Promise(function(a){var e=o.getDDOFromCache(n);e&&!r?a(e):(s.open("POST",i,!0),t.ddoKey=n,s.setRequestHeader("Content-type","application/json"),s.setRequestHeader("X-CSRF-TOKEN",o.platformUtils.getCsrfToken()),s.onreadystatechange=function(e){if(this.readyState==XMLHttpRequest.DONE||4===this.readyState){if(200==this.status){var t=JSON.parse(s.responseText);(t=t[n])&&500!=t.status&&(t=t[n]||t,o.phApp.loadingPage=!1)}a(t)}},s.send(JSON.stringify(t)))})},this.makeGetRequest=function(n,i,e){var s=n.url||a.phApp.widgetApiEndpoint,o=new XMLHttpRequest,r=a;return delete n.url,new Promise(function(a,e){var t=r.getDDOFromCache(i);t?a(t):(o.open("GET",s+r.formatParams(n),!0),o.onreadystatechange=function(e){if(this.readyState==XMLHttpRequest.DONE||4===this.readyState){if(200==this.status){var t=JSON.parse(o.responseText);(t=t[i])&&500!=t.status&&(t=t[i]||t,r.phApp.loadingPage=!1)}a(t)}},o.send(null))})},this.phApp=this.platformUtils.fecthPhApp()}var d=["data-ph-id"],c="instance-id",u="data-ph-widget-id",g="instance-id",l=["[",u,"]"].join(""),h="data-ph-content-id",m=["pcs-card-v1","pcs-component-v1"],p=(f.prototype.constructWgtTempElm=function(e){if(!e||"object"==typeof e)return e||document;var t=document.createElement("div");return t.innerHTML=e,t},f.prototype.prepareWidgetBlocks=function(e,t){var a=this.constructWgtTempElm(e),n=a.querySelectorAll(l);!n.length&&a&&a.getAttribute&&a.getAttribute(u)&&(n=[a]);for(var i=n.length,s=0;s<i;s++){var o=n[s];this.prepareWidgetBlock(o,t)}},f.prototype.prepareWidgetBlock=function(e,t){var a=this.phApp.ddo.caasPageViews&&this.phApp.ddo.caasPageViews.data,n=e.getAttribute(u),i=a&&a.views&&a.views[n],s=i&&"pcs-candidate-login-v1"==i.widgetTag,o=this.platformUtils.getSiteSettings("navItems")||{};if(!(this.handleHideOnDevice(e)||s&&!o.candidateHome)){var r=e.getAttribute(g),d=e.getAttribute(h);this.phApp.ddo=this.phApp.ddo||{};var c=a&&a.aliases&&(a.aliases[t+"-"+r]||a.aliases[r])||{};!Object.keys(c).length&&r&&(a&&a.aliases&&(a.aliases[r]=[]),c=a&&a.aliases&&a.aliases[r]);var p=a&&a.settings&&a.settings[r];if(i&&i.html&&c){var l=this.constructWgtTempElm(i.html);c.html=this.addExtraLogicToView(l,c,p,r||t);var m=this.addwidgetElemWithAttr(i,n,r,d,e);this.replacePhWidgetWithCmpt(e,m),this.prepareWidgetBlocks(c.html,t||r)}}},f.prototype.addExtraLogicToView=function(e,i,t,a){for(var s=e.querySelectorAll("[data-ph-content-id]"),n=function(e){var t=s[e],a=t.getAttribute("ph-alias");if(Object.keys(i).length&&a){var n=i.find(function(e){return e.alias==a});n&&n["data-ph-content-id"]&&t.setAttribute("data-ph-content-id",n["data-ph-content-id"]),o.handleElemAttributes(t,a)}},o=this,r=0;r<s.length;r++)n(r);return this.applyInstanceIdsToSettingsBlock(e,a),e.innerHTML},f.prototype.handleElemAttributes=function(e,t){e.removeAttribute("ph-alias");var a={};for(var n in e.attributes)e.attributes[n]&&e.attributes[n].nodeName&&e.attributes[n].nodeValue&&(a[e.attributes[n].nodeName]=[e.attributes[n].nodeValue]);var i=["exposeAliasToTemplate('",t,"','",e.getAttribute("data-ph-content-id"),"')"].join("");for(var s in e.setAttribute("v-bind:alias",i),a)e.removeAttribute(s);for(var o in a)e.setAttribute(o,a[o])},f.prototype.fetchElemBindables=function(e,t){if(t=t||{},e&&e.attributes)for(var a=0;a<Object.keys(e.attributes).length;a++){var n="data-pha-",i=e.attributes[a].name||"";i.startsWith(n)&&-1==d.indexOf(i)&&(t[i=i.replace(n,"")]=e.attributes[a].value)}return t},f.prototype.addwidgetElemWithAttr=function(e,t,a,n,i){var s=e.widgetTag,o=document.createElement(s),r={"data-widget":s,"data-ph-widget-id":t,"widget-id":t,"instance-id":a,"content-id":n,class:[s,e.view,e.theme].join("-")};-1==m.indexOf(s)&&(r.class=r.class+" pcs-widget");var d=this.fetchElemBindables(i,r);for(var c in d)r.hasOwnProperty(c)&&r[c]&&r[c]&&o.setAttribute(c,r[c]);return s&&-1===this.componentsToLoad.indexOf(s)&&-1===this.widgetTags.indexOf(s)&&this.widgetTags.push(s),o},f.prototype.addWidgetTagsToNestedWidgets=function(e){if(e&&e.views)for(var t in e.views)if(e.views[t]){var a=e.views[t].html,n=a&&this.constructWgtTempElm(a),i=n&&n.querySelectorAll(l);if(i&&i.length){for(var s=0;s<i.length;s++){var o=i[s],r=o.getAttribute(u),d=o.getAttribute(g),c=o.getAttribute(h);if(e.views[r]){var p=this.addwidgetElemWithAttr(e.views[r],r,d,c,o);this.replacePhWidgetWithCmpt(o,p)}}e.views[t].html=n.innerHTML}}},f.prototype.replacePhWidgetWithCmpt=function(e,t){var a=e&&e.nodeName.toLowerCase(),n=t,i=e.parentElement&&"SECTION"==e.parentElement.nodeName;if(!(-1!=m.indexOf(a)||i&&e.parentElement.classList.contains("pcs-widget"))){var s=document.createElement("section");s.classList.add("pcs-widget");var o=e.getAttribute("instance-id"),r=e.getAttribute("data-ph-id");o&&s.setAttribute("instance-id",o),r&&s.setAttribute("data-ph-id",r),s.appendChild(t),n=s}e.parentElement&&e.parentElement.insertBefore(n,e);for(var d=0;d<e.attributes.length;d++)if("class"!=e.attributes[d].name)t.setAttribute(e.attributes[d].name,e.attributes[d].value);else for(var c=e&&e.classList,p=0;p<c.length;p++)t.classList.contains(c[p])||t.classList.add(c[p]);e.parentElement&&e.parentElement.removeChild(e)},f.prototype.applyInstanceIdsToSettingsBlock=function(e,t){if(e){var a=[{key:c,value:t}];this.fetchNestedWidgetsAndApplyInstanceAttrs(e,a)}},f.prototype.fetchNestedWidgetsAndApplyInstanceAttrs=function(e,t){if(e&&t.length)for(var a=e.querySelectorAll("["+c+"]"),n=0;n<a.length;n++)for(var i=a[n],s=0;s<t.length;s++){var o=i.getAttribute(c);t[s].key==c&&o&&t[s].value?(o=t[s].value+"-"+o,i.setAttribute(t[s].key,o)):i.setAttribute(t[s].key,t[s].value)}},f.prototype.handleHideOnDevice=function(e){var t=e.getAttribute("hide-on-mobile"),a=e.getAttribute("hide-on-desktop"),n=this.phApp.deviceType,i=!1;return n&&"mobile"===n&&"true"===t?i=!0:n&&"desktop"===n&&"true"===a&&(i=!0),!!i&&(e.parentElement&&e.parentElement.removeChild&&e.parentElement.removeChild(e),i)},f);function f(){this.widgetTags=[],this.componentsToLoad=[],this.platformUtils=new n,this.phApp=this.platformUtils.fecthPhApp()}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var v,w=(function(e,t){function o(e,t){if(e){var a=p[e];if(c[e]=t,a)for(;a.length;)a[0](e,t),a.splice(0,1)}}function r(e,t){e.call&&(e={success:e}),t.length?(e.error||m)(t):(e.success||m)(e)}function l(a,n,i,s){var o,r,e=document,t=i.async,d=(i.numRetries||0)+1,c=i.before||m,p=a.replace(/^(css|img)!/,"");s=s||0,/(^css!|\.css$)/.test(a)?((r=e.createElement("link")).rel="stylesheet",r.href=p,(o="hideFocus"in r)&&r.relList&&(o=0,r.rel="preload",r.as="style")):/(^img!|\.(png|gif|jpg|svg)$)/.test(a)?(r=e.createElement("img")).src=p:((r=e.createElement("script")).src=a,r.async=void 0===t||t),!(r.onload=r.onerror=r.onbeforeload=function(e){var t=e.type[0];if(o)try{r.sheet.cssText.length||(t="e")}catch(e){18!=e.code&&(t="e")}if("e"==t){if((s+=1)<d)return l(a,n,i,s)}else if("preload"==r.rel&&"style"==r.as)return r.rel="stylesheet";n(a,t,e.defaultPrevented)})!==c(a,r)&&e.head.appendChild(r)}function a(e,t,a){var n,i;if(t&&t.trim&&(n=t),i=(n?a:t)||{},n){if(n in d)throw"LoadJS";d[n]=!0}function s(t,a){!function(e,n,t){var a,i,s=(e=e.push?e:[e]).length,o=s,r=[];for(a=function(e,t,a){if("e"==t&&r.push(e),"b"==t){if(!a)return;r.push(e)}--s||n(r)},i=0;i<o;i++)l(e[i],a,t)}(e,function(e){r(i,e),t&&r({success:t,error:a},e),o(n,e)},i)}if(i.returnPromise)return new Promise(s);s()}var m,d,c,p;e.exports=(m=function(){},d={},c={},p={},a.ready=function(e,t){return function(e,a){e=e.push?e:[e];var t,n,i,s=[],o=e.length,r=o;for(t=function(e,t){t.length&&s.push(e),--r||a(s)};o--;)n=e[o],(i=c[n])?t(n,i):(p[n]=p[n]||[]).push(t)}(e,function(e){r(t,e)}),a},a.done=function(e){o(e,[])},a.reset=function(){d={},c={},p={}},a.isDefined=function(e){return e in d},a)}(v={exports:{}},v.exports),v.exports),k=Object.freeze({default:w,__moduleExports:w}),b=[{key:"af",name:"Afrikaans"},{key:"am",name:"Amharic"},{key:"ar-dz",name:"Arabic (Algeria)"},{key:"ar-kw",name:"Arabic (Kuwait)"},{key:"ar-ly",name:"Arabic (Lybia)"},{key:"ar-ma",name:"Arabic (Morocco)"},{key:"ar-sa",name:"Arabic (Saudi Arabia)"},{key:"ar-tn",name:" Arabic (Tunisia)"},{key:"ar",name:"Arabic"},{key:"az",name:"Azerbaijani"},{key:"be",name:"Belarusian"},{key:"bg",name:"Bulgarian"},{key:"bi",name:"Bislama"},{key:"bm",name:"Bambara"},{key:"bn",name:"Bengali"},{key:"bo",name:"Tibetan"},{key:"br",name:"Breton"},{key:"bs",name:"Bosnian"},{key:"ca",name:"Catalan"},{key:"cs",name:"Czech"},{key:"cv",name:"Chuvash"},{key:"cy",name:"Welsh"},{key:"da",name:"Danish"},{key:"de-at",name:"German (Austria)"},{key:"de-ch",name:"German (Switzerland)"},{key:"de",name:"German"},{key:"dv",name:"Maldivian"},{key:"el",name:"Greek"},{key:"en-au",name:"English (Australia)"},{key:"en-ca",name:"English (Canada)"},{key:"en-gb",name:"English (United Kingdom)"},{key:"en-ie",name:"English (Ireland)"},{key:"en-il",name:"English (Israel)"},{key:"en-in",name:"English (India)"},{key:"en-nz",name:"English (New Zealand)"},{key:"en-sg",name:"English (Singapore)"},{key:"en-tt",name:"English (Trinidad & Tobago)"},{key:"en",name:"English"},{key:"eo",name:"Esperanto"},{key:"es-do",name:"Spanish (Dominican Republic)"},{key:"es-pr",name:"Spanish (Puerto Rico)"},{key:"es-us",name:"Spanish (United States)"},{key:"es",name:"Spanish"},{key:"et",name:"Estonian"},{key:"eu",name:"Basque"},{key:"fa",name:"Persian"},{key:"fi",name:"Finnish"},{key:"fo",name:"Faroese"},{key:"fr-ca",name:"French (Canada)"},{key:"fr-ch",name:"French (Switzerland)"},{key:"fr",name:"French"},{key:"fy",name:"Frisian"},{key:"ga",name:"Irish or Irish Gaelic"},{key:"gd",name:"Scottish Gaelic"},{key:"gl",name:"Galician"},{key:"gom-latn",name:"Konkani Latin script"},{key:"gu",name:"Gujarati"},{key:"he",name:"Hebrew"},{key:"hi",name:"Hindi"},{key:"hr",name:"Croatian"},{key:"ht",name:"Haitian Creole (Haiti)"},{key:"hu",name:"Hungarian"},{key:"hy-am",name:"Armenian"},{key:"id",name:"Indonesian"},{key:"is",name:"Icelandic"},{key:"it-ch",name:"Italian (Switzerland)"},{key:"it",name:"Italian"},{key:"ja",name:"Japanese"},{key:"jv",name:"Javanese"},{key:"ka",name:"Georgian"},{key:"kk",name:"Kazakh"},{key:"km",name:"Cambodian"},{key:"kn",name:"Kannada"},{key:"ko",name:"Korean"},{key:"ku",name:"Kurdish"},{key:"ky",name:"Kyrgyz"},{key:"lb",name:"Luxembourgish"},{key:"lo",name:"Lao"},{key:"lt",name:"Lithuanian"},{key:"lv",name:"Latvian"},{key:"me",name:"Montenegrin"},{key:"mi",name:"Maori"},{key:"mk",name:"Macedonian"},{key:"ml",name:"Malayalam"},{key:"mn",name:"Mongolian"},{key:"mr",name:"Marathi"},{key:"ms-my",name:"Malay"},{key:"ms",name:"Malay"},{key:"mt",name:"Maltese (Malta)"},{key:"my",name:"Burmese"},{key:"nb",name:"Norwegian BokmÃ¥l"},{key:"ne",name:"Nepalese"},{key:"nl-be",name:"Dutch (Belgium)"},{key:"nl",name:"Dutch"},{key:"nn",name:"Nynorsk"},{key:"oc-lnc",name:"Occitan, lengadocian dialecte"},{key:"pa-in",name:"Punjabi (India)"},{key:"pl",name:"Polish"},{key:"pt-br",name:"Portuguese (Brazil)"},{key:"pt",name:"Portuguese"},{key:"ro",name:"Romanian"},{key:"ru",name:"Russian"},{key:"rw",name:"Kinyarwanda (Rwanda)"},{key:"sd",name:"Sindhi"},{key:"se",name:"Northern Sami"},{key:"si",name:"Sinhalese"},{key:"sk",name:"Slovak"},{key:"sl",name:"Slovenian"},{key:"sq",name:"Albanian"},{key:"sr-cyrl",name:"Serbian Cyrillic"},{key:"sr",name:"Serbian"},{key:"ss",name:"siSwati"},{key:"sv",name:"Swedish"},{key:"sw",name:"Swahili"},{key:"ta",name:"Tamil"},{key:"te",name:"Telugu"},{key:"tet",name:"Tetun Dili (East Timor)"},{key:"tg",name:"Tajik"},{key:"th",name:"Thai"},{key:"tk",name:"Turkmen"},{key:"tl-ph",name:"Tagalog (Philippines)"},{key:"tlh",name:"Klingon"},{key:"tr",name:"Turkish"},{key:"tzl",name:"Talossan"},{key:"tzm-latn",name:"Central Atlas Tamazight Latin"},{key:"tzm",name:"Central Atlas Tamazight"},{key:"ug-cn",name:"Uyghur (China)"},{key:"uk",name:"Ukrainian"},{key:"ur",name:"Urdu"},{key:"uz-latn",name:"Uzbek Latin"},{key:"uz",name:"Uzbek"},{key:"vi",name:"Vietnamese"},{key:"x-pseudo",name:"Pseudo"},{key:"yo",name:"Yoruba Nigeria"},{key:"zh-cn",name:"Chinese (China)"},{key:"zh-hk",name:"Chinese (Hong Kong)"},{key:"zh-tw",name:"Chinese (Taiwan)"},{key:"zh",name:"Chinese"}],j=(S.prototype.observeElem=function(e,t){this.callback=t,this.lazyElemObserver.observe(e)},S);function S(){var a=this;this.lazyElemObserver=new IntersectionObserver(function(e,t){e.forEach(function(e){if(e.isIntersecting){var t=e.target;a.callback(),a.lazyElemObserver.unobserve(t)}})})}var C=window,T=w||k,P=["PCS-FACETS-V1","PCS-SEARCH-RESULTS-V2","PCS-NPS-V1","PCS-HEADER-V1"],E={jquery:"common/js/vendor/jquery-3.6.1.min.js",slick:"common/js/vendor/slick-v3.min.js",plyrPolyfill:"common/js/vendor/polyfill.min.js",plyrScript:"common/js/vendor/plyr.min.3.5.6.js",plyrStyle:"common/js/vendor/plyr.3.5.6.css",hark:"common/js/vendor/hark.bundle-v1.1.0.js",resumable:"common/js/vendor/resumable-v1.1.min.js",dayjs:"common/js/vendor/dayjs/dayjs.min.js",dayjsutc:"common/js/vendor/dayjs/utc.js",dayjstz:"common/js/vendor/dayjs/timezone.js",dayjsDuration:"common/js/vendor/dayjs/duration.js",advancedFormat:"common/js/vendor/dayjs/advancedFormat.js",localizedFormat:"common/js/vendor/dayjs/localizedFormat.js",customParseFormat:"common/js/vendor/dayjs/customParseFormat.js",dayjslocale:"common/js/vendor/dayjs/locale/",mapBoxSdk:"common/js/vendor/mapbox-sdk.js",videojs:"common/js/vendor/video.min.js","videojs-record":"common/js/vendor/videojs.record.js",videjsStyle:"common/js/vendor/video-js.min.css",videojsrecordstyle:"common/js/vendor/videojs.record.min.css",localforage:"common/js/vendor/localforage.min.js",recordRTC:"common/js/vendor/record-rtc.min.js",dropzoneJs:"common/js/vendor/dropzone.min.js",isJs:"common/js/vendor/isjs.js","mobile-detect":"common/js/vendor/mobile-detect.min.js",jszip:"common/js/vendor/jszip.min.js",jsziputils:"common/js/vendor/jszip-utils.min.js",filesaver:"common/js/vendor/filesaver.min.js",ie11CustomProperties:"common/js/vendor/ie11CustomProperties_css_var.min.js",noUiSlider:"common/js/vendor/nouislider.min.js",addToCalender:"common/js/vendor/addToCalendar-v1.6.1.min.js",validate:"/common/js/vendor/validate.min.js"},O=(I.prototype.fetchEagerLoadScriptVersions=function(){var e=this.platformUtils.getDDOFromCache("caasLazyLoadWidgetVersions");e&&e.status&&"success"===e.status&&(this.versionedScripts=e.data||{})},I.prototype.loadLibScripts=function(e,t){var a=this;if(this.phApp&&this.phApp.caasPlatform){var n=[];this.phApp.caasPlatform.polyfill&&n.push(this.phApp.caasPlatform.polyfill),this.phApp.caasPlatform.vendor&&n.push(this.phApp.caasPlatform.vendor),this.phApp.caasPlatform.common&&n.push(this.phApp.caasPlatform.common),T(n,{success:function(){a.bootstrapWidgets(e,t)},async:!1})}else this.counter<50&&(this.timer=setTimeout(function(){a.counter++,clearTimeout(a.timer),a.bootstrapWidgets(e,t)},150))},I.prototype.bootstrapWidgets=function(e,t){var a=this;if(window.hasOwnProperty("Vue")&&window.hasOwnProperty("PcsCommon"))if(window.hasOwnProperty("phw")&&e.length){var n=[];if(this.env&&this.env.componentBase&&e.forEach(function(e){window.hasOwnProperty("Vue")&&!C.Vue.options.components[e]&&(a.platformUtils.convertWidgetTagToComponentName(e),n.push(a.versionedScripts[e]||a.env.componentBase+e+".js"))}),this.platformUtils.isCrawlerUserAgent())try{var i=e.indexOf("pcs-candidate-login-v1"),s=n[i];s&&-1!==s.indexOf("candidate-login")&&(n.splice(i,1),e.splice(i,1))}catch(e){}T(n,{success:function(){t()},async:!0}),n.length||t()}else t();else this.loadLibScripts(e,t)},I.prototype.initialiseVue=function(e,t){if(e&&(this.elemIntersectionObserver=new j,window.hasOwnProperty("phw")&&window.hasOwnProperty("Vue"))){Object.keys(phw).forEach(function(e){var t=phw[e].default?phw[e].default.component:phw[e].component;t&&(t.options.template="<div></div>",C.Vue.component(t.options.name,t))});var a=e.querySelector("[data-widget]"),n=a&&a.tagName||"",i="internal"==this.phApp.siteType,s=this.platformUtils.getSiteSettings("videoAssessmentPagesList")||[],o=this.phApp.pageName,r=a&&a.hasAttribute("data-auto-loaded");this.platformUtils.getSiteSettings("externalCookieConfig")&&P.push("PCS-FOOTER-V1"),!C.IntersectionObserver||t||-1!=P.indexOf(n)||i||"editor"==C.phApp.env||r||-1!=s.indexOf(o)?this.triggerVueElem(e):this.elemIntersectionObserver.observeElem(e,this.triggerVueElem.bind(this,e))}},I.prototype.triggerVueElem=function(e){e&&e.firstElementChild&&(e.firstElementChild.style.padding=null),e.__vue__||(phw.localVue=new C.Vue({el:e}))},I.prototype.initialiseEmbedVue=function(e,t,n){if(window.hasOwnProperty("phw")&&window.hasOwnProperty("Vue")){e.forEach(function(e){var t=phw[e].default?phw[e].default.component:phw[e].component,a=t&&t.options.props;a&&n&&Object.keys(n).forEach(function(e){e&&a[e]&&(t.options.props[e].default=n[e])}),t&&(t.options.template="<div></div>",C.Vue.component(t.options.name,t))});var a='[data-embed-widget-id ="'+t+'"]',i=document.querySelector(a);n=n||{},i&&(phw.localVue=new C.Vue({el:i}))}},I.prototype.loadScriptById=function(i,s,e){var o=this;return void 0===s&&(s=!0),void 0===e&&(e=!0),new Promise(function(e,t){if(T.isDefined(i))T.ready(i,function(){e(!0)});else{"dayjslocale"===i&&(E[i]+=o.dayjsLocale+".js");var a=E[i];if(a){if(!a.startsWith("http")&&!a.startsWith("://")){var n=o.phApp.scriptsBaseUrl||o.phApp.cdnUrl;n&&!n.endsWith("/")&&(n+="/"),a=n+a}T(a,i,{async:s}),T.ready(i,function(){e(!0)})}else e(!1)}})},I.prototype.loadDayJsScripts=function(){var t=this,a=this.phApp.locale||"en";if(a=a.replace("_","-"),this.dayjsLocale=b.find(function(e){return e.key===a}),void 0===this.dayjsLocale)if(1!==(a=a.split("-")).length){var e=b.find(function(e){return e.key===a[0]});this.dayjsLocale=void 0===e?"en":e.key}else this.dayjsLocale=this.dayjsLocale.key;else this.dayjsLocale=this.dayjsLocale.key;var n={dayjs:"dayjs",dayjsutc:"dayjs_plugin_utc",dayjstz:"dayjs_plugin_timezone",dayjsDuration:"dayjs_plugin_duration",advancedFormat:"dayjs_plugin_advancedFormat",localizedFormat:"dayjs_plugin_localizedFormat",customParseFormat:"dayjs_plugin_customParseFormat"};Object.keys(n).forEach(function(e){window[n[e]]||t.loadScriptById(e)})},I.prototype.loadScript=function(e,t,a,n){if(void 0===a&&(a=!0),void 0===n&&(n=!0),!T.isDefined(t))return e.startsWith("http")||e.startsWith("://")||(e=this.phApp.cdnUrl+"/common/js/vendor/"+e),T(e,{returnPromise:!0,async:!0})},I.prototype.loadScripts=function(e,t,a,n){if(void 0===a&&(a=!0),void 0===n&&(n=!0),!T.isDefined(t))return T(e,{returnPromise:!0,async:a})},I);function I(){this.platformUtils=new n,this.serviceUtils=new o,this.domUtils=new p,this.versionedScripts={},this.counter=0,this.env=this.serviceUtils.fetchEnvironment(),this.phApp=this.platformUtils.fecthPhApp(),C.hasOwnProperty("phw")&&(C.phw.scriptsMap=E);var e=this.platformUtils.getSiteSettings("vendorScripts")||{};for(var t in e)e[t]&&(E[t]="common/js/vendor/"+e[t]);this.fetchEagerLoadScriptVersions(),this.loadDayJsScripts()}var V,W=window.phApp||{},x=new n,L=new a,N=new o,D=new p,M=new O,q="caasPageViews",z="caasContentV1",U="siteGlobalContent",R="getCaasGlobalWdgtInfo",B="data-ph-widget-id",_=["[",B,"]"].join(""),F="data-aud-widget",H="global-managed-widget",J=0,G=[];function K(){W.pageId&&W.pageId.startsWith("blogpost-")?Y(document.querySelectorAll("[data-aud-widget]"),W.pageId.replace("blogpost-","")):function e(){var s=x.fecthPhApp();var t=x.getCsrfToken();var a=s.ddo&&s.ddo.caasPageViews&&s.ddo.caasPageViews.status;if((!s.inlinePreview&&"success"!=a&&!s.loadingPage||!t)&&J<50)return void(V=setTimeout(function(){J++,clearTimeout(V),e()},150));var o=x.fetchReqObj();if(s.ddo.caasPageViews&&s.ddo.caasContentV1){if(s.ddo[z]){var n=s.ddo[q],i=n&&n.data&&n.data.aliases||{};L.compileContentModel(i,s.ddo[z])}X(void 0)}else s.loadingPage=!0,N.makeRequest(o,q).then(function(a){ae(a,o.pageId);var e=x.getSiteSettings("navItems"),t=x.getSiteSettings("cdnCaasContent"),n=s.viewsFromPage,i=N.makeRequest;e&&e.hasOwnProperty("cdnCaasContentEnabled")||!t||!t.cdnCaasContentEnabled||(e=t),e&&e.cdnCaasContentEnabled&&e.cdnCaasContentUrl&&n&&((o={refNum:s.refNum,locale:s.locale||"en_us",siteType:s.siteType,pageId:s.pageId,channel:s.deviceType||"desktop"}).url=e.cdnCaasContentUrl,i=N.makeGetRequest),i(o,z).then(function(e){var t=a&&a.data&&a.data.aliases||{};te(e,{aliases:t}),X(void 0)})})}();var e=document.querySelector(".ph-page");e&&e.getAttribute("role")||!e||e.setAttribute("role","main")}function X(e){var t=W.ddo.caasPageViews&&W.ddo.caasPageViews.data,a=document.querySelector('[data-widget="ph-blog-detail-v1"]');D.addWidgetTagsToNestedWidgets(t),D.widgetTags=[];var n=D.constructWgtTempElm(void 0),i=e||n.querySelectorAll("pcs-widget"+_);!i.length&&n&&n.getAttribute&&n.getAttribute(B)&&(i=[n]);for(var s=i.length,o=0;o<s;o++){var r=i[o];if(r.hasAttribute(F)||r.hasAttribute(H))r.closest('[data-widget="ph-blog-detail-v1"]')&&r.setAttribute("data-blog-autoload","");else{var d=r.getAttribute("instance-id");D.widgetTags=[],r.style.padding="15px",D.prepareWidgetBlock(r);var c=document.querySelector('[instance-id="'+d+'"]');G.push({tags:D.widgetTags,elem:c})}}ie(!1),a||$(),D.widgetTags=[]}function $(v,e,t){var w=x.fetchReqObj(),k=document.querySelectorAll("[data-embed-widget-id], pcs-widget["+F+"]:not([data-blog-autoload]),pcs-widget["+H+"]");v&&(k=v);var b=document.querySelectorAll("[data-audience-block]");if(k.length){window.MSInputMethodContext&&M.loadScriptById("ie11CustomProperties"),w.widgetIds=[],w.contentIds=[];for(var a=0;a<k.length;a++){var n=k[a].getAttribute("data-ph-widget-id"),i=k[a].getAttribute("data-ph-content-id");n&&-1==w.widgetIds.indexOf(n)&&w.widgetIds.push(n),i&&-1==w.contentIds.indexOf(i)&&w.contentIds.push(i)}var s=[],o=x.getSiteSettings("cdnConfig")||{},r=x.getSiteSettings("iscdnEnabled"),d=N.makeRequest;if(r&&o.cdnDdos&&-1!=o.cdnDdos.indexOf(R)){var c=o.cdnUrl+"/api/DEFAUS/"+R,p={};p.url=c,p.payload={};var l={widgetIds:w.widgetIds,contentIds:w.contentIds};p.payload=JSON.stringify(l),w=p,d=N.makeGetRequest}return s.push(d(w,R)),e&&(w.pageId=t,w.ignoreCache=!0),s.push(function(e,t,a){return N.makeRequest(t,a||U)}(0,w,e)),Promise.all(s).then(function(e){var t,a,n=e[0],i=e[1];if(n&&n.data&&(t=n.data.audiences&&n.data.audiences.cssVariables,a=n.data.videoscreening&&n.data.videoscreening.cssVariables),t||a){var s;s=document.querySelectorAll("["+H+"]");var o,r,d=document.querySelectorAll("["+F+"]");if(d.length&&t&&Z(t),s.length&&a&&Z(a),n&&n.data&&n.data.widgets){for(var c={},p={},l=0;l<k.length;l++){var m=k[l].getAttribute("instance-id")||"",u=k[l].getAttribute("data-ph-content-id")||(o=m,void 0,(r=(W.ddo.caasPageViews&&W.ddo.caasPageViews.data||{}).aliases||{})[o]&&r[o][0]&&r[o][0]["data-ph-content-id"]),g=k[l].getAttribute("data-ph-widget-id");m&&g&&n.data.widgets[g]&&n.data.widgets[g].settings&&(c[m]=n.data.widgets[g].settings,Q(c,n.data.widgets,g,m)),p[m]=[{"data-ph-content-id":u,alias:"block1"}]}var h={views:n.data.widgets,settings:c,aliases:p};ae({data:h}),D.addWidgetTagsToNestedWidgets(h),function(e){var t=W.ddo.caasPageViews&&W.ddo.caasPageViews.data||{};for(var a in t.views=t.views||{},e.views){var n=[e.views[a].widgetTag,e.views[a].view,e.views[a].theme].join("-");ne(e.views[a].css||"",void 0,!1,n),W.ddo.caasLazyLoadWidgetVersions=W.ddo.caasLazyLoadWidgetVersions||{status:"success"},W.ddo.caasLazyLoadWidgetVersions.data=W.ddo.caasLazyLoadWidgetVersions.data||{},e.views[a].script&&(W.ddo.caasLazyLoadWidgetVersions.data[e.views[a].widgetTag]=e.views[a].script)}for(var i in e.settings)if(t.settings=t.settings||{},Object.keys(e.settings[i]||{}).length){t.settings[i]=t.settings[i]||{};var s=A({},e.settings[i].bindables||{},t.settings[i].bindables||{});t.settings[i].bindables=s}M.fetchEagerLoadScriptVersions()}(h);var f=W.ddo.caasPageViews&&W.ddo.caasPageViews.data||{};f.aliases=f.aliases||{};for(l=0;l<k.length;l++){u=k[l].getAttribute("data-ph-content-id"),m=k[l].getAttribute("instance-id")||"";f.aliases[m]&&f.aliases[m][0]&&f.aliases[m][0]["data-ph-content-id"]||!b.length||(f.aliases[m]=[{alias:"block1","data-ph-content-id":u}]);var y=k[l].getAttribute("data-ph-widget-id");u&&y&&!k[l].getAttribute("global-managed-widget")&&-1==w.contentIds.indexOf(u)&&w.contentIds.push(u)}d.length&&(te(i,h),ee(k)),s.length&&!v&&(te(W.ddo[z],h),ee(k))}return n}})}}function Y(t,e){for(var a=0;a<t.length;a++)t[a].setAttribute("data-blog-autoload","");var n=x.fetchReqObj(),i=q;n.pageId="blogpost-"+e,n.ignoreCache=!0,x.getDDOFromCache("caasBlogViews")&&(i="caasBlogViews",delete n.ignoreCache),N.makeRequest(n,i).then(function(e){return ae(e,n.pageId),$(t,z,n.pageId)})}function Z(e){var t=document.createElement("script");t.setAttribute("src",e),t.onload=function(){ne(W.brandVariables.variables,"variables",!0,"brandVariables")},document.head.appendChild(t)}function Q(i,s,e,o){var t=document.createElement("div");t.innerHTML=s[e].html;var a=t.querySelectorAll("pcs-widget");(a=Array.from(a)).forEach(function(e){var t=e.getAttribute("instance-id"),a=e.getAttribute("data-ph-widget-id"),n=o+"-"+t;i[n]=s[a].settings,Q(i,s,a,n)})}function ee(e){for(var t=0;t<e.length;t++){var a=e[t].getAttribute("instance-id");D.widgetTags=[],D.prepareWidgetBlock(e[t]);var n=document.querySelector('[instance-id="'+a+'"]');G.push({tags:D.widgetTags,elem:n})}ie(!0),D.widgetTags=[]}function te(e,t){if(e&&e.data){var a=L.compileContentModel(t.aliases,e)||{};for(var n in W.ddo[z]=W.ddo[z]||{},W.ddo[z].data=W.ddo[z].data||{},W.ddo[z].data.content=W.ddo[z].data.content||{},W.ddo[z].data.common=W.ddo[z].data.common||{},W.ddo[z].data.modelMappings=W.ddo[z].data.modelMappings||{},W.ddo[z].data)W.ddo[z].data[n]=A({},W.ddo[z].data[n],a.data[n])}return e}function ae(e,t){W.ddo[q]=W.ddo[q]||{status:"success"},W.ddo[q].data=W.ddo[q].data||{},W.ddo[q].data.aliases=W.ddo[q].data.aliases||{},W.ddo[q].data.settings=W.ddo[q].data.settings||{},W.ddo[q].data.views=W.ddo[q].data.views||{},e&&e.data&&e.data.aliases&&(W.ddo[q].data.aliases=A({},e.data.aliases,W.ddo[q].data.aliases)),e&&e.data&&e.data.settings&&(t&&t.startsWith("blogpost-")?W.ddo[q].data.settings=A({},W.ddo[q].data.settings,e.data.settings):W.ddo[q].data.settings=A({},e.data.settings,W.ddo[q].data.settings)),e&&e.data&&e.data.views&&(W.ddo[q].data.views=A({},W.ddo[q].data.views,e.data.views))}function ne(t,e,a,n){if(void 0===e&&(e=void 0),!n||!document.querySelector("#"+n)){var i=document.createElement("style");i.setAttribute("type","text/css"),n&&i.setAttribute("id",n);var s=t;if("variables"==e){["1151px","767px","480px","340px","848px","366px","1024px","1279px"].forEach(function(e){s+="@media only screen and (max-width: "+e+") {"+t+"}"})}i.innerHTML=s;var o=document.querySelector("head script");a&&o&&o.parentNode?o&&o.parentNode.insertBefore(i,o):document.head.appendChild(i)}}function ie(e){if(G.length){var t=G.splice(0,1);M.bootstrapWidgets(t[0].tags,function(){M.initialiseVue(t[0].elem,e),ie(!1)})}}if(!W.isEmbed){var se=x.getSiteSettings("ignoreCookiePages")||[],oe=W.pageName;if(-1==se.indexOf(oe))if(W.loadingPage)var re=setInterval(function(){W.loadingPage||(clearInterval(re),setTimeout(function(){K()},10))},100);else K()}e.fetchWidgetContent=function(e){var t={};for(var a in e=e||{},t.lang=W.locale||"en_us",t.pageId=e.pageId||W.pageId,t.deviceType=W.deviceType||"desktop",e)t.hasOwnProperty(a)||(t[a]=e[a]);return N.makeRequest(t,"caasWidgetContent").then(function(e){if(e&&e.status&&"success"===e.status)return e})},e.fetchCaasGetSiteContent=function(e){var t={};for(var a in e=e||{},t.lang=W.locale||"en_us",t.pageId=e.pageId||W.pageId,t.deviceType=W.deviceType||"desktop",e)t.hasOwnProperty(a)||(t[a]=e[a]);return N.makeRequest(t,"caasGetSiteContent").then(function(e){if(e&&e.status&&"success"===e.status)return e})},e.fetchWidgetView=function(e){var t={};for(var a in e=e||{},t.lang=W.locale||"en_us",t.pageId=W.pageId,t.deviceType=W.deviceType||"desktop",e)t.hasOwnProperty(a)||(t[a]=e[a]);return N.makeRequest(t,"caasWidgetView").then(function(e){if(e&&e.status&&"success"===e.status)return e})},e.init=K,e.initiateInnerWidgets=function(e){if(e&&e.length){var t=e[0].closest("[as-element]");if("ph-blog-detail-v1"===(t&&t.getAttribute("as-element"))){for(var a=0;a<e.length;a++)e[a].setAttribute("data-blog-autoload","");return}}e&&X(e)},e.prepareWidgetBlocks=function(e){return D.prepareWidgetBlocks(e)},e.compileContentModel=function(e,t){return L.compileContentModel(e,t)},e.bootstrapWidgets=function(e){M.bootstrapWidgets(D.widgetTags,e)},e.addWidgetTagsToNestedWidgets=function(e){D.addWidgetTagsToNestedWidgets(e)},e.loadScript=function(e,t,a,n){return void 0===a&&(a=!0),void 0===n&&(n=!0),M.loadScript(e,t,a,n)},e.loadScriptById=function(e,t,a){return void 0===t&&(t=!0),void 0===a&&(a=!0),M.loadScriptById(e,t,a)},e.initiateAudienceWidgets=$,e.initiateAutoRenderWidgets=function(e){return $(e)},e.initateBlogRenderWidgets=Y,e.initEmbedWidget=function(e){if(e&&e.target){var t,a=[],n=[];if((t="string"==typeof e.target?document.querySelector(e.target):e.target)&&e.viewData&&e.contentData){var i=e.viewData&&e.viewData.views||{},s=Math.random().toString(36).slice(2);t.setAttribute("data-embed-widget-id",s),W.ddo=W.ddo||{},W.ddo.caasPageViews=W.ddo.caasPageViews||{},W.ddo.caasPageViews.status="success",W.ddo.caasPageViews.data=W.ddo.caasPageViews.data||{},W.ddo.caasPageViews.data.views=W.ddo.caasPageViews.data.views||{},Object.keys(i).forEach(function(e){if(i[e].widgetTag){a.push(i[e].widgetTag);var t=x.getComponentName(i[e].widgetTag);n.push(t),W.ddo.caasPageViews.data.views[e]=i[e]}});var o=e.viewData.aliases||{},r=Object.keys(o)&&Object.keys(o)[0];W.ddo.caasPageViews.data.aliases=W.ddo.caasPageViews.data.aliases||{},W.ddo.caasPageViews.data.aliases[r]=e.viewData.aliases[r],console.log("executing embed script"),function(e,t){if(t&&t.content){var a=L.compileContentModel(e,t)||{};W.ddo[z]=W.ddo[z]||{},Object.keys(W.ddo[z]).length&&W.ddo[z].data&&a&&a.data?W.ddo[z].data=A({},W.ddo[z],a.data):W.ddo[z]=a,W.ddo[z].status="success"}else W.ddo[z]=W.ddo[z]||{},W.ddo[z].data=W.ddo[z].data||{},W.ddo[z].status="success"}(o,{data:JSON.parse(JSON.stringify(e.contentData)),content:JSON.parse(JSON.stringify(e.contentData.content)),status:"success"}),D.addWidgetTagsToNestedWidgets(e.viewData),D.prepareWidgetBlock(t),M.bootstrapWidgets(a,function(){M.initialiseEmbedVue(n,s,e.data)})}}},e.initVideoWidget=function(e){var t;if(e&&e.target){if(t="string"==typeof e.target?document.querySelector(e.target):e.target){t.style.display="block";var a=t.getAttribute("data-pcs-type");if(a&&"attr"==a){var n=document.createElement("div"),i={content:{},settings:e};n.setAttribute(t.getAttribute("data-pcs-type-value"),JSON.stringify(i)),t.appendChild(n),new Vue({el:t,data:{content:{}}})}}}else console.log("Invalid payload or missing required parameters ",e)},Object.defineProperty(e,"__esModule",{value:!0})});
